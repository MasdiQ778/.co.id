<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cek Status Transaksi - DQ STORE</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="hero small">
    <div class="hero-content">
      <h1>Cek Status Transaksi</h1>
      <p>Masukkan ID Transaksi atau Nomor HP kamu untuk melihat status.</p>
    </div>
  </header>

  <section class="form-section">
    <form id="statusForm">
      <label>Cari Berdasarkan:</label>
      <select id="tipe" required>
        <option value="id">ID Transaksi</option>
        <option value="nomor">Nomor HP</option>
      </select>

      <label>Masukkan ID / Nomor:</label>
      <input type="text" id="keyword" placeholder="Contoh: 6281234567890 atau TRX123456" required>

      <button type="submit" class="btn-primary">Cek Status</button>
    </form>

    <div id="statusResult" class="response-box"></div>
  </section>

  <footer>
    <p>&copy; 2025 DQ STORE. All rights reserved.</p>
  </footer>

  <script>
    const form = document.getElementById('statusForm');
    const resultBox = document.getElementById('statusResult');

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      const tipe = document.getElementById('tipe').value;
      const keyword = document.getElementById('keyword').value;

      resultBox.innerHTML = "üîç Mencari status transaksi...";

      try {
        const response = await fetch("https://api.bukaolshop.site/status", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            tipe: tipe,
            keyword: keyword,
            api_key: "b1RUOUZNcXMyemNFYU9jM2xrbmovMVZGaGl6QWsvNEUyM0JCSWFjY1l0MTlQNnJMbG1Sbmt5MkRZblNwRE91K0EvbFVla1Y4Q0lzYmRFOVNFd2JLNVB4cmtIMEdVSEVzUFI2VlIwdkUyc0tmYXVWOW1rNXUzbVM1cnNwTk96ekxUOG1ONDlodVlCV3hqNEtQaUs4Z0o4ZjhhN1BaUkFabHhDaEJiWHhsVXIzRnByMC9wY3JBb3RtTGpPdEpSUyt4" // Ganti dengan API key BukaOlshop kamu
          })
        });

        const data = await response.json();

        if (data.status === "success") {
          const trx = data.transaksi;
          resultBox.innerHTML = `
            <div class="success">
              <p><strong>Status:</strong> ${trx.status}</p>
              <p><strong>Produk:</strong> ${trx.produk}</p>
              <p><strong>Nominal:</strong> Rp ${trx.nominal}</p>
              <p><strong>Waktu:</strong> ${trx.waktu}</p>
              <p><strong>Pengguna:</strong> ${trx.user}</p>
            </div>
          `;
        } else {
          resultBox.innerHTML = `<p class="error">‚ùå ${data.message}</p>`;
        }
      } catch (err) {
        resultBox.innerHTML = `<p class="error">Terjadi kesalahan: ${err.message}</p>`;
      }
    });
  </script>
</body>
</html>
